performance.mark("js-parse-end:react-code-view-b5c39baa158f7999.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["8145"],{29128(e,t,n){n.d(t,{P:()=>s});var r=n(32764),o=n(32089),l=n(2428),a=n(96540),i=n(43546);function s(e){let t=(0,l.B)(),n=e||t,s=(0,a.useRef)(n),c=(0,o.q)();if(n)s.current=n;else{let e=(0,r.n7E)(location.pathname,s.current.refInfo.name,s.current.path);n=(0,i.Bl)(s.current,c,e)}return n}},43546(e,t,n){n.d(t,{Bl:()=>l,aO:()=>o});var r=n(9364);function o(e){return(0,r.H)(e)?{...e.fileTree,[e.path]:{items:e.tree.items,totalCount:e.tree.totalCount}}:e.fileTree}function l(e,t,n){return{path:n,repo:e.repo,refInfo:e.refInfo,currentUser:e.currentUser,fileTree:o(e),fileTreeProcessingTime:e.fileTreeProcessingTime,foldersToFetch:e.foldersToFetch,allShortcutsEnabled:e.allShortcutsEnabled,treeExpanded:e.treeExpanded,symbolsExpanded:e.symbolsExpanded,codeLineWrapEnabled:e.codeLineWrapEnabled,isMarketplaceEnabled:e.isMarketplaceEnabled,error:t||void 0}}},88117(e,t,n){var r=n(1757),o=n(69329),l=n(36495),a=n(74848),i=n(50038),s=n(85970),c=n(99363),d=n(4045),u=n(22625),h=n(50035),p=n(5642),f=n(68216),m=n(75474),b=n(7570),x=n(12436),w=n(82465),E=n(19379),g=n(18888),j=n(15751),v=n(29128),I=n(43546);function y(e){return"editInfo"in e&&"webCommitInfo"in e}var C=n(36991),T=n(65599),O=n(9364),k=n(70516),N=n(37198),S=n(98632),A=n(79008),F=n(21765),R=n(88327),_=n(87555),B=n(94709),D=n(96540),M=n(32899),P=n(96679),z=n(96881),L=n(96251),W=n(79437),Q=n(87844),q=n(15595),G=n(13264),H=n(82943),U=n(84985),V=n(21654),$=n(34898),X=n(88498),Z=n(48563),K=n(21709),Y=n(46481),J=n(45050);let ee=(0,D.lazy)(()=>Promise.all([n.e("90225"),n.e("67985"),n.e("61110"),n.e("12287"),n.e("30045"),n.e("8857"),n.e("72608"),n.e("43540"),n.e("51210"),n.e("83843"),n.e("54479"),n.e("93859"),n.e("74357"),n.e("1141"),n.e("73046"),n.e("23262"),n.e("56943"),n.e("775"),n.e("63951"),n.e("1655")]).then(n.bind(n,53623)));function et({initialPayload:e}){let t=(0,v.P)(e);return(0,a.jsx)(er,{payload:t,isDataRouter:!1})}ee.displayName="BlobEditor",et.displayName="CodeViewEntrypoint";let en=e=>{(0,Y.Q)(e,null,null)};function er({payload:e,isDataRouter:t=!0}){let n,r=(0,k.t)(),{findFileWorkerPath:o}=(0,m.s)(),{path:l}=e,v=(0,j.p)(e.refInfo),Y=y(e),et=(0,C.m)(e),er=(0,C.K)(e),eo=(0,T.i)(e),[el,ea]=(0,D.useState)(null),ei=(0,V.U6)(r,v,l,e.error?.httpStatus===404),es=(0,U.TX)(r,v,l,e.error?.httpStatus===404,et||er?e.blob.rawLines?.length??1e5:1e5),ec=D.useRef(null),ed=D.useRef(!1),eu=D.useRef(!1),eh=D.useRef(null),ep=D.useRef(null),ef="repos-file-tree",em=D.useRef(void 0),{toggleFocusedPaneShortcut:eb}=(0,g.wk)();(0,F.t)(),(0,R.L)(!0);let ex=D.useMemo(()=>(0,I.aO)(e),[e.path,e.refInfo.currentOid]),{isTreeExpanded:ew,collapseTree:eE,expandTree:eg,treeToggleElement:ej,treeToggleRef:ev,searchBoxRef:eI}=(0,N.qn)(ef,em,e.treeExpanded,J.wQ,en),ey=(0,D.useCallback)(()=>{window.innerWidth<S.Gy.large&&eE({focus:null})},[eE]),[eC,eT]=(0,D.useState)(!0);(0,D.useEffect)(()=>{if(!window.location.hash&&window.scrollY>0){let e=document.querySelector("#StickyHeader");e&&(e.style.position="relative",e.scrollIntoView(),e.style.position="sticky")}},[e.path]);let{codeCenterOption:eO}=(0,A.ud)(),ek=D.useCallback(()=>{window.innerWidth<S.Gy.large&&eg({focus:"search"})},[eg]);return n=Y?e.editInfo.isNewFile?"new":"edit":er?"blame":et?"blob":"tree",(0,a.jsx)(V.mD,{...ei,children:(0,a.jsx)(U.Zj,{...es,children:(0,a.jsx)(w.n,{path:l,children:(0,a.jsx)(c.O,{action:n,children:(0,a.jsx)(b.A,{isMarketplaceEnabled:e.isMarketplaceEnabled,children:(0,a.jsx)(h.d,{copilotAccessAllowed:e.copilotAccessAllowed??!1,copilotSpacesEnabled:e.copilotSpacesEnabled??!1,modelsAccessAllowed:e.modelsAccessAllowed??!1,modelsRepoIntegrationEnabled:e.modelsRepoIntegrationEnabled??!1,children:(0,a.jsx)(E.x,{refInfo:v,children:(0,a.jsx)(p.O,{canEdit:v.canEdit,canEditOnDefaultBranch:v.canEditOnDefaultBranch,fileExistsOnDefault:v.fileExistsOnDefault,children:(0,a.jsx)(d.$,{allShortcutsEnabled:e.allShortcutsEnabled,children:(0,a.jsxs)(N.Nq,{children:[(0,a.jsx)(G.U,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Ck,{children:(0,a.jsx)(x.cD,{payload:e,openPanelRef:em,children:(0,a.jsxs)(_.O7,{children:[(0,a.jsx)(B.az,{ref:ec,tabIndex:0,sx:{width:["100%","100%","auto"]},children:(0,a.jsx)(N.c2,{id:ef,repo:r,path:l,isFilePath:et||Y||eo,refInfo:v,collapseTree:eE,showTree:ew,fileTree:ex,onItemSelected:ey,processingTime:e.fileTreeProcessingTime,treeToggleElement:ej,treeToggleRef:ev,searchBoxRef:eI,foldersToFetch:e.foldersToFetch,incompleteFileTree:e.incompleteFileTree,onFindFilesShortcut:ek,textAreaId:J.wQ,findFileWorkerPath:o,headerContent:(0,a.jsxs)(B.az,{sx:{display:"flex",width:"100%",mb:3,alignItems:"center"},children:[ew&&ej,(0,a.jsx)(B.DZ,{as:"h2",sx:{fontSize:2,ml:2},children:"Files"})]})})}),(0,a.jsx)(_.O7.Content,{as:"div",padding:"none",width:eO.enabled?"xlarge":"full",hidden:{narrow:ew},children:(0,a.jsx)(B.az,{sx:{marginLeft:"auto",marginRight:"auto",flexDirection:"column",pb:6,maxWidth:"100%",mt:0},ref:ea,"data-selector":"repos-split-pane-content",tabIndex:0,children:(0,a.jsx)(X.mx,{children:(0,a.jsx)($.w,{isBlame:er,children:(0,a.jsxs)(u.lG,{children:[(0,a.jsx)(B.az,{sx:{display:Y?"none":"inherit"},children:(0,a.jsx)(q.Ay,{payload:e,showTree:ew,treeToggleElement:ej,validCodeNav:eC,onFindFilesShortcut:ek})}),e.error?(0,a.jsx)(i.D,{...e.error}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.az,{className:"react-code-view-bottom-padding",sx:{mx:3},children:(0,a.jsx)(L.Ay,{payload:e})}),(0,a.jsx)(B.az,{sx:{mx:3},children:(0,O.H)(e)?(0,a.jsx)(Q.A,{tree:e.tree,showTree:ew,treeToggleElement:ej}):y(e)?(0,a.jsx)(D.Suspense,{fallback:(0,a.jsx)(H.f,{}),children:(0,a.jsx)(ee,{collapseTree:eE,editInfo:e.editInfo,repo:e.repo,showTree:ew,treeToggleElement:ej,webCommitInfo:e.webCommitInfo,copilotInfo:e.copilotInfo,copilotGenerateCommitMessageAuthInfo:e.copilotGenerateCommitMessageAuthInfo,isDataRouter:t},`${e.path}_${e.editInfo.fileName}_${e.editInfo.isNewFile}`)}):et?(0,a.jsx)(K.s,{blob:e.blob,children:(0,a.jsx)(Z.k,{blame:e.blame,children:(0,a.jsx)(z.C,{blame:e.blame,blob:e.blob,symbolsExpanded:e.symbolsExpanded,setValidCodeNav:eT,showTree:ew,treeToggleElement:ej,validCodeNav:eC,copilotInfo:e.copilotInfo})})}):eo?(0,a.jsx)(W.k,{deleteInfo:e.deleteInfo,webCommitInfo:e.webCommitInfo}):null})]})]})})})})})]})})}),(0,a.jsx)(P.t,{}),(0,a.jsx)(s._,{buttonFocusId:J.wQ,buttonHotkey:eb.hotkey,onButtonClick:()=>(function(){let e=document.getElementById(M.M),t=document.getElementById(J.wQ);if(document.activeElement?.id===J.wQ&&(eu.current=!0),el?.contains(document.activeElement)&&!eu.current?ed.current=!0:ec.current?.contains(document.activeElement)&&(ed.current=!1),ed.current||eu.current)if(eu.current){let t=eh.current||e||el;ed.current=!0,eu.current=!1,t?.focus()}else{let e=ep.current||ec.current;eh.current=el?.contains(document.activeElement)?document.activeElement:null,ed.current=!1,eu.current=!1,e?.focus()}else{let e=t||el;ep.current=ec.current?.contains(document.activeElement)?document.activeElement:null,ed.current=!1,e?.focus()}})()})]})]})})})})})})})})})})}er.displayName="CodeViewLegacy",(0,o.o)("react-code-view",()=>({App:l.q,routes:[(0,r.a)({path:"/:owner/:repo/tree/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blob/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blame/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/edit/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/delete/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/delete/:branch/:path/*",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo",Component:et,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/:branch/*",Component:et,shouldNavigateOnError:!0})]}))},82579(e,t,n){n.d(t,{A:()=>l});var r=n(16522),o=n(96540);function l(){let e,t,n,l=(0,r.c)(3),a=(0,o.useRef)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>a.current,l[0]=e):e=l[0];let i=e;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(a.current=!0,()=>{a.current=!1}),n=[],l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,o.useLayoutEffect)(t,n),i}},74755(e,t,n){n.d(t,{X:()=>i});var r=n(16522),o=n(96540);function l(){return()=>{}}function a(){return!1}function i(e){let t,n=(0,r.c)(2);return n[0]!==e?(t=()=>{let t=function(){if("u"<typeof navigator);else if(/Windows/.test(navigator.userAgent))return"windows";else if(/Macintosh/.test(navigator.userAgent))return"mac";return null}();return null!==t&&e.includes(t)},n[0]=e,n[1]=t):t=n[1],(0,o.useSyncExternalStore)(l,t,a)}}},function(e){e.O(0,["10870","15272","15460","16920","18549","19762","21463","22060","23270","2966","32288","32769","41013","42688","437","46376","47857","49863","50343","51705","55821","58110","59660","6102","64899","67894","68751","69395","7053","73694","7463","7542","77691","78967","81482","82048","83465","84085","90225","97083","98131","99028"],function(){return e(e.s=88117)}),e.O()}]);
//# sourceMappingURL=react-code-view-b5c39baa158f7999-c93b061d2e4ad56e.js.map